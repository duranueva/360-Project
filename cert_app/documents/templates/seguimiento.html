{% extends "base_doc.html" %}

{% block content %}
<div class="space-y-6">

  <!-- Título -->
  <h2 class="text-xl font-semibold text-center">SEGUIMIENTO DE CANDIDATOS</h2>

  <!-- Filtros -->
  <form method="get" class="bg-[#D9D9D9] p-6 rounded-md shadow space-y-4 max-w-4xl mx-auto">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <!-- EC -->
      <div>
        <label class="block text-sm font-medium">Estandar Competencia:</label>
        <select name="ec" onchange="this.form.submit()" class="w-full mt-1 px-2 py-1 rounded bg-white border border-gray-300">
          <option value="">Sin Selección</option>
          {% for ec in ecs %}
            <option value="{{ ec.id }}" {% if selected.ec == ec.id|stringformat:'s' %}selected{% endif %}>
              {{ ec.nombre }} ({{ ec.codigo }})
            </option>
          {% endfor %}
        </select>
      </div>

      <!-- Proyecto (depende de EC) -->
      <div>
        <label class="block text-sm font-medium">Proyecto:</label>
        <select name="proyecto" onchange="this.form.submit()" class="w-full mt-1 px-2 py-1 rounded bg-white border border-gray-300">
          <option value="">Sin Selección</option>
          {% for pr in proyectos %}
            <option value="{{ pr.id }}" {% if selected.proyecto == pr.id|stringformat:'s' %}selected{% endif %}>
              {{ pr.nombre }}
            </option>
          {% endfor %}
        </select>
      </div>

      <!-- Grupo (depende de Proyecto / EC) -->
      <div>
        <label class="block text-sm font-medium">Grupo:</label>
        <select name="grupo" onchange="this.form.submit()" class="w-full mt-1 px-2 py-1 rounded bg-white border border-gray-300">
          <option value="">Sin Selección</option>
          {% for gr in grupos %}
            <option value="{{ gr.id }}" {% if selected.grupo == gr.id|stringformat:'s' %}selected{% endif %}>
              {{ gr.nombre }}
            </option>
          {% endfor %}
        </select>
      </div>

      <!-- Candidato (depende de Grupo / Proyecto / EC) -->
      <div>
        <label class="block text-sm font-medium">Candidato:</label>
        <select name="candidato" onchange="this.form.submit()" class="w-full mt-1 px-2 py-1 rounded bg-white border border-gray-300">
          <option value="">Sin Selección</option>
          {% for c in candidatos %}
            <option value="{{ c.id }}" {% if selected.candidato == c.id|stringformat:'s' %}selected{% endif %}>
              {{ c.ap_paterno }} {{ c.ap_materno }} {{ c.nombre }}
            </option>
          {% endfor %}
        </select>
      </div>
    </div>
  </form>


  <!-- Tabla -->
  <div class="overflow-x-auto bg-[#D9D9D9] rounded-md p-4 shadow max-w-7xl mx-auto">
    <table class="min-w-full text-left text-sm text-black">
      <tbody>

        {% for item in candidatos_info %}
          {% with candidato=item.candidato proceso=item.proceso %}
            <!-- Nombre candidato -->
            <thead class="border-b border-gray-400">
              <tr>
                <th colspan="10" class="text-center py-4">{{ candidato.nombre }} {{ candidato.ap_paterno }} {{ candidato.ap_materno }}</th>
              </tr>
            </thead>

            <!-- EC, Proyecto, Grupo -->
            <tr>
              <td colspan="10" class="text-center py-4">
                EC: {{ proceso.id_grupo.id_proyecto.id_ec.nombre }} <b>></b> Proyecto: {{ proceso.id_grupo.id_proyecto.nombre }} <b>></b> Grupo: {{ proceso.id_grupo.nombre }}
              </td>
            </tr>

            <!-- Columnas -->
            <tr>
              <th class="px-4 py-2">Documento</th>
              <th class="px-4 py-2">Realizado</th>
              <th class="px-4 py-2">Acción</th>
            </tr>

            <!-- Correo -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">Correo</td>     
              <td class="px-4 py-2">
                {% if candidato.correo %} {{candidato.correo}} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#"
                  onclick="abrirModalCORREO({{ candidato.id }}, '{{ candidato.correo|default_if_none:"" }}')"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
              </td>
            </tr>

            <!-- CURP -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">CURP</td>
              <td class="px-4 py-2">
                {% if candidato.curp %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#"
                  onclick="abrirModalCURP({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if candidato.curp %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>

            <!-- INE FRENTE -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">INE (Frente)</td>
              <td class="px-4 py-2">
                {% if candidato.ine_frente %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#" 
                  onclick="abrirModalINE_frente({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if candidato.ine_frente %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>

            <!-- INE REVERSO -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">INE (Reverso)</td>
              <td class="px-4 py-2">
                {% if candidato.ine_reverso %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#" 
                  onclick="abrirModalINE_reverso({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if candidato.ine_reverso %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>

            <!-- Foto -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">Foto</td>
              <td class="px-4 py-2">
                {% if candidato.foto %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#"
                  onclick="abrirModalFOTO({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if candidato.foto %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>

            <!-- Firma -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">Firma</td>
              <td class="px-4 py-2">
                {% if candidato.firma %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                <a href="#"
                  onclick="abrirModalFIRMA({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if candidato.firma %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>


            <!-- Portada (usando InfoProcesoCandidato) -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">Portada</td>
              <td class="px-4 py-2">
                {% if proceso and proceso.portada %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                <a href="#"
                  onclick="abrirModalPORTADA({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if proceso and proceso.portada %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>


            <!-- Indice (usando InfoProcesoCandidato) -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">Indice</td>
              <td class="px-4 py-2">
                {% if proceso and proceso.indice %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#"
                  onclick="abrirModalINDICE({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if proceso and proceso.indice %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>
            

            <!-- Carta Recepción Documentos (usando InfoProcesoCandidato) -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">Carta Recepción Documentos</td>
              <td class="px-4 py-2">
                {% if proceso and proceso.carta_recepcion_docs %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#"
                  onclick="abrirModalCARTA({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if proceso and proceso.carta_recepcion_docs %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>

            <!-- Reporte de Autenticidad (usando InfoProcesoCandidato) -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">Reporte de Autenticidad</td>
              <td class="px-4 py-2">
                {% if proceso and proceso.reporte_autenticidad %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#"
                  onclick="abrirModalREPORTE({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if proceso and proceso.reporte_autenticidad %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>

            <!-- Triptico de Derechos (usando InfoProcesoCandidato) -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">Triptico de Derechos</td>
              <td class="px-4 py-2">
                {% if proceso and proceso.triptico_derechos_img %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#"
                  onclick="abrirModalTRIPTICO({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if proceso and proceso.triptico_derechos_img %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>

            <!-- Encuesta de Satisfacción (usando InfoProcesoCandidato) -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">Encuesta de Satisfacción</td>
              <td class="px-4 py-2">
                {% if proceso and proceso.encuesta_satisfaccion %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#" 
                  onclick="abrirModalENCUESTA({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if proceso and proceso.encuesta_satisfaccion %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>

            <!-- Cedula de Evaluación (usando InfoProcesoCandidato) -->
            <tr class="border-t border-gray-300 hover:bg-gray-200">
              <td class="px-4 py-2">Cedula de Evaluación</td>
              <td class="px-4 py-2">
                {% if proceso and proceso.cedula_evaluacion %} ✅ {% else %} ❌ {% endif %}
              </td>
              <td class="px-4 py-2">
                {% comment %} <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a> {% endcomment %}
                <a href="#"
                  onclick="abrirModalCEDULA({{ candidato.id }})"
                  class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                  Agregar/Modificar
                </a>
                {% if proceso and proceso.cedula_evaluacion %}
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Ver
                  </a>
                  <a class="w-[120px] py-2 bg-[#D9D9D9] hover:bg-[#F5F5F5] flex items-center justify-center rounded-md border border-gray-400 text-center inline-block">
                    Descargar
                  </a>
                {% endif %}
              </td>
            </tr>

          {% endwith %}
        {% empty %}
          <tr>
            <td colspan="10" class="text-center py-4">No hay candidatos registrados.</td>
          </tr>
        {% endfor %}

      </tbody>
    </table>
  </div>
</div>

<!-- Modal INE  FRENTE-->
<div id="modalINE_frente" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir INE (Frente)</h2>
    <form id="formINE" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo INE:</label>
        <input type="file" name="ine_frente" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdINE">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalINE_frente()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal INE  REVERSO-->
<div id="modalINE_reverso" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir INE (Reverso)</h2>
    <form id="formINE_reverso" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo INE:</label>
        <input type="file" name="ine_reverso" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdINE_reverso">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalINE_reverso()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal FOTO -->
<div id="modalFOTO" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir Foto</h2>
    <form id="formFOTO" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo Foto:</label>
        <input type="file" name="foto" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdFOTO">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalFOTO()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal FIRMA -->
<div id="modalFIRMA" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir Firma</h2>
    <form id="formFIRMA" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo Firma:</label>
        <input type="file" name="firma" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdFIRMA">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalFIRMA()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>


<!-- Modal CURP -->
<div id="modalCURP" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir CURP</h2>
    <form id="formCURP" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo CURP:</label>
        <input type="file" name="curp" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdCURP">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalCURP()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal CORREO -->
<div id="modalCORREO" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Modificar Correo</h2>
    <form id="formCORREO" method="POST" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Correo electrónico:</label>
        <input type="email" name="correo" id="correoInput" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdCORREO">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalCORREO()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal PORTADA -->
<div id="modalPORTADA" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir Portada</h2>
    <form id="formPORTADA" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo Portada:</label>
        <input type="file" name="portada" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdPORTADA">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalPORTADA()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal INDICE -->
<div id="modalINDICE" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir Índice</h2>
    <form id="formINDICE" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo Índice:</label>
        <input type="file" name="indice" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdINDICE">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalINDICE()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal CARTA -->
<div id="modalCARTA" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir Carta Recepción</h2>
    <form id="formCARTA" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo:</label>
        <input type="file" name="carta_recepcion_docs" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdCARTA">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalCARTA()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal REPORTE AUTENTICIDAD -->
<div id="modalREPORTE" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir Reporte de Autenticidad</h2>
    <form id="formREPORTE" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo:</label>
        <input type="file" name="reporte_autenticidad" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdREPORTE">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalREPORTE()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal TRIPTICO DERECHOS -->
<div id="modalTRIPTICO" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir Tríptico de Derechos</h2>
    <form id="formTRIPTICO" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo Tríptico:</label>
        <input type="file" name="triptico_derechos_img" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdTRIPTICO">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalTRIPTICO()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal ENCUESTA SATISFACCION -->
<div id="modalENCUESTA" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir Encuesta de Satisfacción</h2>
    <form id="formENCUESTA" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo Encuesta:</label>
        <input type="file" name="encuesta_satisfaccion" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdENCUESTA">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalENCUESTA()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Modal CEDULA EVALUACION -->
<div id="modalCEDULA" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center hidden z-50">
  <div class="bg-[#D9D9D9] p-6 rounded-md shadow max-w-md w-full border border-gray-400">
    <h2 class="text-xl font-semibold text-center mb-4">Subir Cédula de Evaluación</h2>
    <form id="formCEDULA" method="POST" enctype="multipart/form-data" class="space-y-4">
      {% csrf_token %}
      <div>
        <label class="block text-sm font-medium mb-1">Archivo:</label>
        <input type="file" name="cedula_evaluacion" required class="w-full px-3 py-2 rounded bg-white border border-gray-300">
      </div>
      <input type="hidden" name="candidato_id" id="candidatoIdCEDULA">
      <div class="flex justify-end gap-4">
        <button type="button" onclick="cerrarModalCEDULA()" class="w-[120px] py-2 bg-[#F5F5F5] hover:bg-gray-300 rounded-md border border-gray-400 text-center">
          Cancelar
        </button>
        <button type="submit" class="w-[120px] py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-center">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>



<script>
function abrirModalINE_frente(candidatoId) {
  document.getElementById('modalINE_frente').classList.remove('hidden');
  document.getElementById('candidatoIdINE').value = candidatoId;
}

function cerrarModalINE_frente() {
  document.getElementById('modalINE_frente').classList.add('hidden');
}

function abrirModalINE_reverso(candidatoId) {
  document.getElementById('modalINE_reverso').classList.remove('hidden');
  document.getElementById('candidatoIdINE_reverso').value = candidatoId;
}

function cerrarModalINE_reverso() {
  document.getElementById('modalINE_reverso').classList.add('hidden');
}

function abrirModalFOTO(candidatoId) {
  document.getElementById('modalFOTO').classList.remove('hidden');
  document.getElementById('candidatoIdFOTO').value = candidatoId;
}

function cerrarModalFOTO() {
  document.getElementById('modalFOTO').classList.add('hidden');
}

function abrirModalFIRMA(candidatoId) {
  document.getElementById('modalFIRMA').classList.remove('hidden');
  document.getElementById('candidatoIdFIRMA').value = candidatoId;
}
function cerrarModalFIRMA() {
  document.getElementById('modalFIRMA').classList.add('hidden');
}

function abrirModalCURP(candidatoId) {
  document.getElementById('modalCURP').classList.remove('hidden');
  document.getElementById('candidatoIdCURP').value = candidatoId;
}

function cerrarModalCURP() {
  document.getElementById('modalCURP').classList.add('hidden');
}

function abrirModalCORREO(candidatoId, correoActual) {
  document.getElementById('modalCORREO').classList.remove('hidden');
  document.getElementById('candidatoIdCORREO').value = candidatoId;
  document.getElementById('correoInput').value = correoActual || '';
}

function cerrarModalCORREO() {
  document.getElementById('modalCORREO').classList.add('hidden');
}

function abrirModalPORTADA(candidatoId) {
  document.getElementById('modalPORTADA').classList.remove('hidden');
  document.getElementById('candidatoIdPORTADA').value = candidatoId;
}

function cerrarModalPORTADA() {
  document.getElementById('modalPORTADA').classList.add('hidden');
}

function abrirModalINDICE(candidatoId) {
  document.getElementById('modalINDICE').classList.remove('hidden');
  document.getElementById('candidatoIdINDICE').value = candidatoId;
}

function cerrarModalINDICE() {
  document.getElementById('modalINDICE').classList.add('hidden');
}

function abrirModalCARTA(candidatoId) {
  document.getElementById('modalCARTA').classList.remove('hidden');
  document.getElementById('candidatoIdCARTA').value = candidatoId;
}

function cerrarModalCARTA() {
  document.getElementById('modalCARTA').classList.add('hidden');
}

function abrirModalREPORTE(candidatoId) {
  document.getElementById('modalREPORTE').classList.remove('hidden');
  document.getElementById('candidatoIdREPORTE').value = candidatoId;
}

function cerrarModalREPORTE() {
  document.getElementById('modalREPORTE').classList.add('hidden');
}

function abrirModalTRIPTICO(candidatoId) {
  document.getElementById('modalTRIPTICO').classList.remove('hidden');
  document.getElementById('candidatoIdTRIPTICO').value = candidatoId;
}

function cerrarModalTRIPTICO() {
  document.getElementById('modalTRIPTICO').classList.add('hidden');
}

function abrirModalENCUESTA(candidatoId) {
  document.getElementById('modalENCUESTA').classList.remove('hidden');
  document.getElementById('candidatoIdENCUESTA').value = candidatoId;
}

function cerrarModalENCUESTA() {
  document.getElementById('modalENCUESTA').classList.add('hidden');
}

function abrirModalCEDULA(candidatoId) {
  document.getElementById('modalCEDULA').classList.remove('hidden');
  document.getElementById('candidatoIdCEDULA').value = candidatoId;
}

function cerrarModalCEDULA() {
  document.getElementById('modalCEDULA').classList.add('hidden');
}


</script>
{% endblock %}


